<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.s1.common.campaign.dao.CampaignMapper" >
  <resultMap id="BaseResultMap" type="com.s1.common.campaign.dao.Campaign" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    <result column="BNKCAMPAIGNKY" property="oid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="CORORGKYFI" property="corOrgOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="STARTDTTM" property="startDttm" jdbcType="TIMESTAMP" />
    <result column="ENDDTTM" property="endDttm" jdbcType="TIMESTAMP" />
    <result column="ISENABLED" property="isEnabled" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISDASHBOARD" property="isDashboard" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISPMTCNTRLST" property="isPaymentCenter" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISCDBALANCESCRN" property="isCDBalance" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISPDBALANCESCRN" property="isPDBalance" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="UPDATEDTTM" property="updateDateTime" jdbcType="TIMESTAMP" />
    <result column="UPDATEUSER" property="updateUser" jdbcType="VARCHAR" />
    <result column="VERSIONSTAMP" property="versionStamp" jdbcType="SMALLINT" />
    <result column="ARCLOCALECDKY" property="localeOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
  </resultMap>
  
  <resultMap type="com.s1.common.campaign.dao.Campaign" id="CampaignResultMap" extends="BaseResultMap">
    <collection property="queries" column="BNKCAMPAIGNGRPKY" ofType="com.s1.common.customergroup.dao.CustomerGroupQuery" javaType="ArrayList" resultMap="QueryMap"/> 
    <collection property="messages" column="BNKCAMPAIGNMSGSKY" ofType="com.s1.common.campaign.dao.CampaignMarketingMessage" javaType="ArrayList" resultMap="CampaignMMMap"/>   
  </resultMap>
  
  <resultMap id="QueryMap" type="com.s1.common.customergroup.dao.CustomerGroupQuery" >    
    <id column="BNKCUSTGRPKY" property="oid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="GROUPQRYNAME" property="name" jdbcType="VARCHAR" />
    <result column="ISSYSADMIN" property="sysAdmin" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISIMPORTED" property="imported" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISDATAMINING" property="dataMining" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISMKTMESSAGE" property="marketingMessage" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="ISSECMESSAGE" property="securityMessage" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="REFRESHFREQCD" property="refreshCD" jdbcType="SMALLINT" />
    <result column="UPDATEDTTM" property="updateDateTime" jdbcType="TIMESTAMP" />
    <result column="UPDATEUSER" property="updateUser" jdbcType="VARCHAR" />
    <result column="VERSIONSTAMP" property="versionStamp" jdbcType="SMALLINT" />
    <result column="GRPCRITERIASTSCD" property="groupCriteriaCD" jdbcType="SMALLINT" />
    <result column="CORORGKYFI" property="corOrgOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="REFRESHDTTM" property="refreshDate" jdbcType="TIMESTAMP" />
  </resultMap> 
  
  <resultMap id="CampaignMMMap" type="com.s1.common.campaign.dao.CampaignMarketingMessage" >    
    <result column="BNKCAMPAIGNMSGSKY" property="oid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="BNKCAMPAIGNKY" property="campaignOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="BNKMARKETMSGKY" property="MarketingMsgOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="ISHEADER" property="isHeader" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="LAYOUTPOSITION" property="layoutPosition" jdbcType="INTEGER" />
    <result column="SCREEN" property="screen" jdbcType="SMALLINT" />
    <result column="UPDATEDTTM" property="updateDateTime" jdbcType="TIMESTAMP" />
    <result column="UPDATEUSER" property="updateUser" jdbcType="VARCHAR" />
    <result column="VERSIONSTAMP" property="versionStamp" jdbcType="SMALLINT" />
    <association property="message" column="BNKMARKETMSGKY" javaType="com.s1.common.marketmessage.dao.MarketingMessage" resultMap="MMMap"/>
  </resultMap>
  
  <resultMap id="MMMap" type="com.s1.common.marketmessage.dao.MarketingMessage">   
    <id column="BNKMARKETMSGKY" jdbcType="INTEGER" property="oid" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="CORORGKYFI" jdbcType="INTEGER" property="corOrgOid" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="MMName" jdbcType="VARCHAR" property="name" />
    <result column="ISFILE" jdbcType="CHAR" property="isFile" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="URL" jdbcType="VARCHAR" property="url" />
    <result column="UPDATEDTTM" jdbcType="TIMESTAMP" property="updateDateTime" />
    <result column="UPDATEUSER" jdbcType="VARCHAR" property="updateUser" />
    <result column="VERSIONSTAMP" jdbcType="SMALLINT" property="versionStamp" />
    <result column="ISMARKETINGINFO" jdbcType="CHAR" property="isMarketingInfo" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />    
    <result column="COLUMNSIZE" jdbcType="SMALLINT" property="columnSize" />
    <result column="FILENAME" jdbcType="VARCHAR" property="fileName" />
    <result column="CONTENTTYPE" jdbcType="VARCHAR" property="contentType" />
    <result column="CONTENT" jdbcType="BLOB" property="content" />
    <result column="BNKMARKETMSGUUID" jdbcType="VARCHAR" property="messageUUID" />
  </resultMap>
  
  <select id="getCampaign" resultMap="CampaignResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT
            C.BNKCAMPAIGNKY, C.CORORGKYFI, C.NAME, C.STARTDTTM, C.ENDDTTM, C.ISENABLED, C.ISDASHBOARD, C.ISPMTCNTRLST, C.ISCDBALANCESCRN, C.ISPDBALANCESCRN, C.ARCLOCALECDKY, C.UPDATEDTTM, C.UPDATEUSER, C.VERSIONSTAMP,  
            Q.BNKCUSTGRPKY, Q.GROUPQRYNAME, Q.ISSYSADMIN, Q.ISIMPORTED, Q.ISDATAMINING, Q.ISMKTMESSAGE, Q.ISSECMESSAGE, Q.REFRESHFREQCD, Q.UPDATEDTTM, Q.UPDATEUSER, Q.VERSIONSTAMP, Q.GRPCRITERIASTSCD, Q.CORORGKYFI, Q.REFRESHDTTM,
            M.BNKCAMPAIGNMSGSKY, M.BNKCAMPAIGNKY, M.BNKMARKETMSGKY, M.ISHEADER, M.LAYOUTPOSITION, M.SCREEN, M.UPDATEDTTM, M.UPDATEUSER, M.VERSIONSTAMP,
            MM.BNKMARKETMSGKY, MM.CORORGKYFI, MM.NAME AS MMName, MM.ISFILE, MM.URL, MM.UPDATEDTTM, MM.UPDATEUSER, MM.VERSIONSTAMP, MM.ISMARKETINGINFO, MM.COLUMNSIZE, MM.FILENAME, MM.CONTENTTYPE, MM.CONTENT, MM.BNKMARKETMSGUUID               
        FROM BNKCAMPAIGN C
            LEFT OUTER JOIN BNKCAMPAIGNGRP CQ ON C.BNKCAMPAIGNKY = CQ.BNKCAMPAIGNKY
            LEFT OUTER JOIN BNKCUSTGRP Q ON Q.BNKCUSTGRPKY = CQ.BNKCUSTGRPKY
            LEFT OUTER JOIN BNKCAMPAIGNMSGS M ON C.BNKCAMPAIGNKY =  M.BNKCAMPAIGNKY
            LEFT OUTER JOIN BNKMARKETMSG MM ON M.BNKMARKETMSGKY = MM.BNKMARKETMSGKY             
        WHERE C.BNKCAMPAIGNKY = #{id}         
 </select>
 
 <select id="getMarketingMessageForImgFile" resultMap="MMMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT
            MM.BNKMARKETMSGKY, MM.CORORGKYFI, MM.NAME AS MMName, MM.ISFILE, MM.URL, MM.UPDATEDTTM, MM.UPDATEUSER, MM.VERSIONSTAMP, MM.ISMARKETINGINFO, MM.COLUMNSIZE, MM.FILENAME, MM.CONTENTTYPE, MM.CONTENT,MM.BNKMARKETMSGUUID        
        FROM  BNKMARKETMSG MM             
        WHERE MM.BNKMARKETMSGUUID = #{messageUUID}         
 </select>
 
 <select id="getCampaignsByAffiliate" resultMap="CampaignResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT
            C.BNKCAMPAIGNKY, C.CORORGKYFI, C.NAME, C.STARTDTTM, C.ENDDTTM, C.ISENABLED, C.ISDASHBOARD, C.ISPMTCNTRLST, C.ISCDBALANCESCRN, C.ISPDBALANCESCRN, C.ARCLOCALECDKY, C.UPDATEDTTM, C.UPDATEUSER, C.VERSIONSTAMP,  
            Q.BNKCUSTGRPKY, Q.GROUPQRYNAME, Q.ISSYSADMIN, Q.ISIMPORTED, Q.ISDATAMINING, Q.ISMKTMESSAGE, Q.ISSECMESSAGE, Q.REFRESHFREQCD, Q.UPDATEDTTM, Q.UPDATEUSER, Q.VERSIONSTAMP, Q.GRPCRITERIASTSCD, Q.CORORGKYFI, Q.REFRESHDTTM,
            M.BNKCAMPAIGNMSGSKY, M.BNKCAMPAIGNKY, M.BNKMARKETMSGKY, M.ISHEADER, M.LAYOUTPOSITION, M.SCREEN, M.UPDATEDTTM, M.UPDATEUSER, M.VERSIONSTAMP,
            MM.BNKMARKETMSGKY, MM.CORORGKYFI, MM.NAME AS MMName, MM.ISFILE, MM.URL, MM.UPDATEDTTM, MM.UPDATEUSER, MM.VERSIONSTAMP, MM.ISMARKETINGINFO, MM.COLUMNSIZE, MM.FILENAME, MM.CONTENTTYPE, MM.CONTENT               
        FROM BNKCAMPAIGN C
            LEFT OUTER JOIN BNKCAMPAIGNGRP CQ ON C.BNKCAMPAIGNKY = CQ.BNKCAMPAIGNKY
            LEFT OUTER JOIN BNKCUSTGRP Q ON Q.BNKCUSTGRPKY = CQ.BNKCUSTGRPKY
            LEFT OUTER JOIN BNKCAMPAIGNMSGS M ON C.BNKCAMPAIGNKY =  M.BNKCAMPAIGNKY
            LEFT OUTER JOIN BNKMARKETMSG MM ON M.BNKMARKETMSGKY = MM.BNKMARKETMSGKY             
        WHERE C.CORORGKYFI = #{id}
 </select>
	<select id="getActiveCampaignsForUser" resultType="com.s1.arch.utilities.ObjectId" parameterType="map">
		SELECT
			DISTINCT C.BNKCAMPAIGNKY
		FROM
			BNKCAMPAIGN C INNER JOIN BNKCAMPAIGNGRP CG ON C.BNKCAMPAIGNKY = CG.BNKCAMPAIGNKY
			INNER JOIN BNKCUSTGRP CUG ON CG.BNKCUSTGRPKY = CUG.BNKCUSTGRPKY
			INNER JOIN BNKMSGGRPQRYCUSTOMER MGQC ON CUG.BNKCUSTGRPKY = MGQC.BNKCUSTGRPKY
		WHERE
			((MGQC.BNKCUSTOMERKY = #{customerOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} AND MGQC.ISUSER = '0')
				OR
			(MGQC.BNKUSERKY = #{bnkUserOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} AND MGQC.ISUSER = '1'))
			AND
			CUG.ISMKTMESSAGE = '1'
			AND 
			CUG.GRPCRITERIASTSCD = 1
			AND
			C.ISENABLED = '1'
			AND
			C.STARTDTTM &lt; #{currentTime,jdbcType=TIMESTAMP}
			AND
			C.ENDDTTM &gt; #{currentTime,jdbcType=TIMESTAMP}
			<if test="affiliateOid != null">
				AND C.CORORGKYFI = #{affiliateOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
			</if>
			AND
			( (C.ARCLOCALECDKY = #{localeOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler})
			  OR
			  (C.ARCLOCALECDKY IS NULL) )
	</select>
	
	<select id="getActiveCampaignsForMMOptOutUser" resultType="com.s1.arch.utilities.ObjectId" parameterType="map">
		SELECT
			DISTINCT C.BNKCAMPAIGNKY
		FROM
			BNKCAMPAIGN C INNER JOIN BNKCAMPAIGNGRP CG ON C.BNKCAMPAIGNKY = CG.BNKCAMPAIGNKY
			INNER JOIN BNKCUSTGRP CUG ON CG.BNKCUSTGRPKY = CUG.BNKCUSTGRPKY
			INNER JOIN BNKMSGGRPQRYCUSTOMER MGQC ON CUG.BNKCUSTGRPKY = MGQC.BNKCUSTGRPKY
			INNER JOIN BNKCAMPAIGNMSGS CM ON C.BNKCAMPAIGNKY = CM.BNKCAMPAIGNKY 
			INNER JOIN BNKMARKETMSG MM ON CM.BNKMARKETMSGKY = MM.BNKMARKETMSGKY
		WHERE
			((MGQC.BNKCUSTOMERKY = #{customerOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} AND MGQC.ISUSER = '0')
				OR
			(MGQC.BNKUSERKY = #{bnkUserOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} AND MGQC.ISUSER = '1'))
			AND
			CUG.ISMKTMESSAGE = '1'
			AND
			MM.ISMARKETINGINFO = '0' 
			AND
			CUG.GRPCRITERIASTSCD = 1
			AND
			C.ISENABLED = '1'
			AND
			C.STARTDTTM &lt; #{currentTime,jdbcType=TIMESTAMP}
			AND
			C.ENDDTTM &gt; #{currentTime,jdbcType=TIMESTAMP}
			<if test="affiliateOid != null">
				AND C.CORORGKYFI = #{affiliateOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
			</if>			
			AND
			( (C.ARCLOCALECDKY = #{localeOid,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler})
			  OR
			  (C.ARCLOCALECDKY IS NULL) )
	</select>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.oidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.corOrgOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isEnabledCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isDashboardCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isPaymentCenterCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isCDBalanceCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isPDBalanceCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.localeOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.oidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.corOrgOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isEnabledCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isDashboardCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isPaymentCenterCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isCDBalanceCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isPDBalanceCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.localeOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    BNKCAMPAIGNKY, CORORGKYFI, NAME, STARTDTTM, ENDDTTM, ISENABLED, ISDASHBOARD, ISPMTCNTRLST, 
    ISCDBALANCESCRN, ISPDBALANCESCRN, UPDATEDTTM, UPDATEUSER, VERSIONSTAMP, ARCLOCALECDKY
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.s1.common.campaign.dao.CampaignExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from BNKCAMPAIGN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.s1.common.campaign.dao.CampaignExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    delete from BNKCAMPAIGN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.s1.common.campaign.dao.Campaign" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    insert into BNKCAMPAIGN (BNKCAMPAIGNKY, 
      CORORGKYFI, 
      NAME, STARTDTTM, ENDDTTM, 
      ISENABLED, 
      ISDASHBOARD, 
      ISPMTCNTRLST, 
      ISCDBALANCESCRN, 
      ISPDBALANCESCRN, 
      UPDATEDTTM, UPDATEUSER, VERSIONSTAMP, 
      ARCLOCALECDKY
      )
    values (#{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{corOrgOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{name,jdbcType=VARCHAR}, #{startDttm,jdbcType=TIMESTAMP}, #{endDttm,jdbcType=TIMESTAMP}, 
      #{isEnabled,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{isDashboard,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{isPaymentCenter,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{isCDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{isPDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{updateDateTime,jdbcType=TIMESTAMP}, #{updateUser,jdbcType=VARCHAR}, #{versionStamp,jdbcType=SMALLINT}, 
      #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.s1.common.campaign.dao.Campaign" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    insert into BNKCAMPAIGN
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="oid != null" >
        BNKCAMPAIGNKY,
      </if>
      <if test="corOrgOid != null" >
        CORORGKYFI,
      </if>
      <if test="name != null" >
        NAME,
      </if>
      <if test="startDttm != null" >
        STARTDTTM,
      </if>
      <if test="endDttm != null" >
        ENDDTTM,
      </if>
      <if test="isEnabled != null" >
        ISENABLED,
      </if>
      <if test="isDashboard != null" >
        ISDASHBOARD,
      </if>
      <if test="isPaymentCenter != null" >
        ISPMTCNTRLST,
      </if>
      <if test="isCDBalance != null" >
        ISCDBALANCESCRN,
      </if>
      <if test="isPDBalance != null" >
        ISPDBALANCESCRN,
      </if>
      <if test="updateDateTime != null" >
        UPDATEDTTM,
      </if>
      <if test="updateUser != null" >
        UPDATEUSER,
      </if>
      <if test="versionStamp != null" >
        VERSIONSTAMP,
      </if>
      <if test="localeOid != null" >
        ARCLOCALECDKY,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="oid != null" >
        #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="corOrgOid != null" >
        #{corOrgOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="startDttm != null" >
        #{startDttm,jdbcType=TIMESTAMP},
      </if>
      <if test="endDttm != null" >
        #{endDttm,jdbcType=TIMESTAMP},
      </if>
      <if test="isEnabled != null" >
        #{isEnabled,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="isDashboard != null" >
        #{isDashboard,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="isPaymentCenter != null" >
        #{isPaymentCenter,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="isCDBalance != null" >
        #{isCDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="isPDBalance != null" >
        #{isPDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="updateDateTime != null" >
        #{updateDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null" >
        #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="versionStamp != null" >
        #{versionStamp,jdbcType=SMALLINT},
      </if>
      <if test="localeOid != null" >
        #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.s1.common.campaign.dao.CampaignExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    select count(*) from BNKCAMPAIGN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    update BNKCAMPAIGN
    <set >
      <if test="record.oid != null" >
        BNKCAMPAIGNKY = #{record.oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.corOrgOid != null" >
        CORORGKYFI = #{record.corOrgOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.name != null" >
        NAME = #{record.name,jdbcType=VARCHAR},
      </if>
      <if test="record.startDttm != null" >
        STARTDTTM = #{record.startDttm,jdbcType=TIMESTAMP},
      </if>
      <if test="record.endDttm != null" >
        ENDDTTM = #{record.endDttm,jdbcType=TIMESTAMP},
      </if>
      <if test="record.isEnabled != null" >
        ISENABLED = #{record.isEnabled,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.isDashboard != null" >
        ISDASHBOARD = #{record.isDashboard,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.isPaymentCenter != null" >
        ISPMTCNTRLST = #{record.isPaymentCenter,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.isCDBalance != null" >
        ISCDBALANCESCRN = #{record.isCDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.isPDBalance != null" >
        ISPDBALANCESCRN = #{record.isPDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.updateDateTime != null" >
        UPDATEDTTM = #{record.updateDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateUser != null" >
        UPDATEUSER = #{record.updateUser,jdbcType=VARCHAR},
      </if>
      <if test="record.versionStamp != null" >
        VERSIONSTAMP = #{record.versionStamp,jdbcType=SMALLINT},
      </if>
      <if test="record.localeOid != null" >
        ARCLOCALECDKY = #{record.localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 31 11:59:51 IST 2012.
    -->
    update BNKCAMPAIGN
    set BNKCAMPAIGNKY = #{record.oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      CORORGKYFI = #{record.corOrgOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      NAME = #{record.name,jdbcType=VARCHAR},
      STARTDTTM = #{record.startDttm,jdbcType=TIMESTAMP},
      ENDDTTM = #{record.endDttm,jdbcType=TIMESTAMP},
      ISENABLED = #{record.isEnabled,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      ISDASHBOARD = #{record.isDashboard,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      ISPMTCNTRLST = #{record.isPaymentCenter,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      ISCDBALANCESCRN = #{record.isCDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      ISPDBALANCESCRN = #{record.isPDBalance,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      UPDATEDTTM = #{record.updateDateTime,jdbcType=TIMESTAMP},
      UPDATEUSER = #{record.updateUser,jdbcType=VARCHAR},
      VERSIONSTAMP = #{record.versionStamp,jdbcType=SMALLINT},
      ARCLOCALECDKY = #{record.localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
</mapper>