<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.s1.common.holdingcompany.dao.HoldingCompanyUserMapper" >
  <resultMap id="BaseResultMap" type="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    <id column="BNKHLDGCMPUSERKY" property="oid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="BNKHLDGCMPKY" property="holdingCompanyOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="ARCPRINCIPALKY" property="principalOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="ARCLOCALECDKY" property="localeOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
    <result column="GIVENNAME" property="givenName" jdbcType="VARCHAR" />    
    <result column="MIDDLENAME" property="middleName" jdbcType="VARCHAR" />
    <result column="FAMILYNAME" property="familyName" jdbcType="VARCHAR" />    
    <result column="SUFFIXENUM" property="suffix" jdbcType="VARCHAR" />
    <result column="PRIMARYPHONENBR" property="primaryPhoneNumber" jdbcType="VARCHAR" />
    <result column="SECONDARYPHONENBR" property="secondaryPhoneNumber" jdbcType="VARCHAR" />    
    <result column="EMAILADDRESS" property="emailAddress" jdbcType="VARCHAR" />  
    <result column="HCU_USERID" property="userId" jdbcType="VARCHAR" />   
    <result column="ISACTIVE" property="isActive" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
    <result column="UPDATEDTTM" property="updateDateTime" jdbcType="TIMESTAMP" />
    <result column="UPDATEUSER" property="updateUser" jdbcType="VARCHAR" />
    <result column="VERSIONSTAMP" property="versionStamp" jdbcType="SMALLINT" />
    <result column="LASTLOGINDTTM" property="lastLoginDttm" jdbcType="TIMESTAMP" />
  </resultMap>  
  
  <resultMap id="LinkedSubsidiaryUserResultMap" type="com.s1.common.holdingcompany.dao.LinkedSubsidiaryUser" >    
       <id column="BNKUserKY" property="objectId" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
       <result column="BNKHLDGCMPUSERUSERKY" property="linkOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />     
       <result column="SUBU_ARCPRINCIPALKY" property="principalOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
       <result column="SUBU_GIVENNAME" property="givenName" jdbcType="VARCHAR" />
       <result column="SUBU_FAMILYNAME" property="familyName" jdbcType="VARCHAR" /> 
       <result column="SUBU_USERID" property="userIdentity" jdbcType="VARCHAR" />      
       <result column="APPROVALSTATUSCD" property="isApproved" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
       <result column="UPDATEDTTM" property="linkUpdateDttm" jdbcType="TIMESTAMP" />
       <result column="UPDATEUSER" property="linkUpdateUser" jdbcType="VARCHAR" />
       <result column="VERSIONSTAMP" property="linkVersionStamp" jdbcType="SMALLINT" />
       <association property="subsidiary" column="BNKCUSTOMERKY" javaType="com.s1.common.customer.CustomerValueImpl" resultMap="SubsidiaryResultMap"/>
  </resultMap>
  
  <resultMap id="SubsidiaryResultMap" type="com.s1.common.holdingcompany.dao.Subsidiary" >    
       <id column="BNKCUSTOMERKY" property="objectId" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
       <result column="BNKHLDGCMPCUSTOMERKY" property="subsidiaryMappinngOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
       <result column="ISENABLED" property="enabled" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
       <result column="SUB_ARCPRINCIPALKY" property="principalOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
       <result column="SUB_CORORGKYFI" property="affiliateOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
       <result column="CUSTOMERID" property="customerId" jdbcType="VARCHAR" />
       <result column="CUSTOMERNAME" property="customerName" jdbcType="VARCHAR" />       
  </resultMap>
  
  <resultMap id="LinkedSubsidiaryInfo" type="com.s1.common.holdingcompany.dao.LinkedSubsidiaryInfo" >
       <result column="bnkCustomerKy" property="customerOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
       <result column="isDisplayLogo" property="displayLogo" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler"/>
       <result column="dispName1" property="dispName1" jdbcType="VARCHAR" />
       <result column="dispName2" property="dispName2" jdbcType="VARCHAR" />
       <result column="dispName3" property="dispName3" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="getSubsidiaries" resultMap="SubsidiaryResultMap">
   SELECT
         SUB.BNKCUSTOMERKY,
         SUB.CORORGKYFI as SUB_CORORGKYFI,            
         SUB.CUSTOMERID,
         SUB.CUSTOMERNAME,
         SUB.ARCPRINCIPALKY as SUB_ARCPRINCIPALKY,         
         HCS.BNKHLDGCMPCUSTOMERKY,
         HUM.ISENABLED
    FROM BNKHLDGCMPCUSTOMER HCS
        INNER JOIN BNKCUSTOMER SUB ON SUB.BNKCUSTOMERKY = HCS.BNKCUSTOMERKY
        LEFT OUTER JOIN BNKHLDGCMPCUSTOMERUSER HUM ON HUM.BNKHLDGCMPCUSTOMERKY = HCS.BNKHLDGCMPCUSTOMERKY and HUM.BNKHLDGCMPUSERKY = #{hUserKy}
    WHERE 
        HCS.BNKHLDGCMPKY = #{hldgCompKy} and SUB.ISENROLLED = '1' 
         and SUB.CORORGKYFI IN
        <foreach collection="affiliateList" item="item" open="(" close=")" separator=",">
 	       	 #{item}
 	    </foreach>  
 </select>
 
  <select id="getLinkedUserList" resultMap="LinkedSubsidiaryUserResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT             
            I.USERID as SUBU_USERID,
            SUBU.BNKUSERKY,
            SUBU.ARCPRINCIPALKY as SUBU_ARCPRINCIPALKY,
            SUBU.GIVENNAME as SUBU_GIVENNAME,
            SUBU.FAMILYNAME as SUBU_FAMILYNAME,
            HCUM.BNKHLDGCMPUSERUSERKY,
            HCUM.APPROVALSTATUSCD,
            HCUM.UPDATEUSER,
            HCUM.UPDATEDTTM,
            HCUM.VERSIONSTAMP,
            SUB.BNKCUSTOMERKY,
            SUB.CORORGKYFI as SUB_CORORGKYFI,            
            SUB.CUSTOMERID,
            SUB.CUSTOMERNAME,
            SUB.ARCPRINCIPALKY as SUB_ARCPRINCIPALKY
        FROM BNKHLDGCMPUSERUSER HCUM            
            INNER JOIN BNKUSER SUBU ON SUBU.BNKUSERKY = HCUM.BNKUSERKY
            INNER JOIN BNKCUSTOMER SUB ON SUBU.BNKCUSTOMERKY = SUB.BNKCUSTOMERKY      
            INNER JOIN ARCIDENTITY I ON SUBU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY                                 
        WHERE HCUM.BNKHLDGCMPUSERKY = #{id} 
        ORDER BY HCUM.UPDATEDTTM ASC        
 </select>
 
 <select id="getHoldingCompanyUserByLoginId" resultMap="BaseResultMap" parameterType="java.lang.String">
  SELECT
   U.BNKHLDGCMPUSERKY, U.BNKHLDGCMPKY, U.ARCPRINCIPALKY, U.ARCLOCALECDKY, U.GIVENNAME, 
    U.MIDDLENAME, U.FAMILYNAME, U.SUFFIXENUM,U.PRIMARYPHONENBR, U.SECONDARYPHONENBR, U.EMAILADDRESS, 
    U.ISACTIVE, U.UPDATEDTTM, U.UPDATEUSER, U.VERSIONSTAMP, UA.LASTLOGINDTTM
  FROM  BNKHLDGCMPUSER U
  INNER JOIN ARCIDENTITY I ON U.ARCPRINCIPALKY =  I.ARCPRINCIPALKY and I.USERID = #{loginId}
  INNER JOIN ARCUSERAUTHNTICN UA ON I.ARCIDENTITYKY = UA.ARCIDENTITYKY
 </select>
 
 <select id="getApprovedLinkedUserList" resultMap="LinkedSubsidiaryUserResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT             
            I.USERID as SUBU_USERID,
            SUBU.BNKUSERKY,
            SUBU.ARCPRINCIPALKY as SUBU_ARCPRINCIPALKY,
            SUBU.GIVENNAME as SUBU_GIVENNAME,
            SUBU.FAMILYNAME as SUBU_FAMILYNAME,
            HCUM.BNKHLDGCMPUSERUSERKY,
            HCUM.APPROVALSTATUSCD,
            HCUM.UPDATEUSER,
            HCUM.UPDATEDTTM,
            HCUM.VERSIONSTAMP,
            SUB.BNKCUSTOMERKY,
            SUB.CORORGKYFI as SUB_CORORGKYFI,            
            SUB.CUSTOMERID,
            SUB.CUSTOMERNAME,
            SUB.ARCPRINCIPALKY as SUB_ARCPRINCIPALKY
        FROM BNKHLDGCMPUSERUSER HCUM            
            INNER JOIN BNKUSER SUBU ON SUBU.BNKUSERKY = HCUM.BNKUSERKY and SUBU.ISACTIVE = '1'
            INNER JOIN BNKCUSTOMER SUB ON SUBU.BNKCUSTOMERKY = SUB.BNKCUSTOMERKY      
            INNER JOIN ARCIDENTITY I ON SUBU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY                 
            INNER JOIN ARCUSERAUTHNTICN AUTH ON I.ARCIDENTITYKY = AUTH.ARCIDENTITYKY and AUTH.LOCKOUTDTTM IS NULL and AUTH.PSWDEXPIRYDTTM &gt; current timestamp              
        WHERE HCUM.BNKHLDGCMPUSERKY = #{id} and HCUM.APPROVALSTATUSCD = '1'
        ORDER BY HCUM.UPDATEDTTM ASC        
 </select>
 
 <select id="getApprovedLinkedUserList-Oracle" resultMap="LinkedSubsidiaryUserResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT             
            I.USERID as SUBU_USERID,
            SUBU.BNKUSERKY,
            SUBU.ARCPRINCIPALKY as SUBU_ARCPRINCIPALKY,
            SUBU.GIVENNAME as SUBU_GIVENNAME,
            SUBU.FAMILYNAME as SUBU_FAMILYNAME,
            HCUM.BNKHLDGCMPUSERUSERKY,
            HCUM.APPROVALSTATUSCD,
            HCUM.UPDATEUSER,
            HCUM.UPDATEDTTM,
            HCUM.VERSIONSTAMP,
            SUB.BNKCUSTOMERKY,
            SUB.CORORGKYFI as SUB_CORORGKYFI,            
            SUB.CUSTOMERID,
            SUB.CUSTOMERNAME,
            SUB.ARCPRINCIPALKY as SUB_ARCPRINCIPALKY
        FROM BNKHLDGCMPUSERUSER HCUM            
            INNER JOIN BNKUSER SUBU ON SUBU.BNKUSERKY = HCUM.BNKUSERKY and SUBU.ISACTIVE = '1'
            INNER JOIN BNKCUSTOMER SUB ON SUBU.BNKCUSTOMERKY = SUB.BNKCUSTOMERKY      
            INNER JOIN ARCIDENTITY I ON SUBU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY                 
            INNER JOIN ARCUSERAUTHNTICN AUTH ON I.ARCIDENTITYKY = AUTH.ARCIDENTITYKY and AUTH.LOCKOUTDTTM IS NULL and AUTH.PSWDEXPIRYDTTM &gt; systimestamp              
        WHERE HCUM.BNKHLDGCMPUSERKY = #{id} and HCUM.APPROVALSTATUSCD = '1'
        ORDER BY HCUM.UPDATEDTTM ASC        
 </select>
 
 <select id="getPendingLinkedUserList" resultMap="LinkedSubsidiaryUserResultMap">
        SELECT             
            I.USERID as SUBU_USERID,
            SUBU.BNKUSERKY,
            SUBU.ARCPRINCIPALKY as SUBU_ARCPRINCIPALKY,
            SUBU.GIVENNAME as SUBU_GIVENNAME,
            SUBU.FAMILYNAME as SUBU_FAMILYNAME,
            HCUM.BNKHLDGCMPUSERUSERKY,
            HCUM.APPROVALSTATUSCD,
            HCUM.UPDATEUSER,
            HCUM.UPDATEDTTM,
            HCUM.VERSIONSTAMP,
            SUB.BNKCUSTOMERKY,
            SUB.CORORGKYFI as SUB_CORORGKYFI,            
            SUB.CUSTOMERID,
            SUB.CUSTOMERNAME,
            SUB.ARCPRINCIPALKY as SUB_ARCPRINCIPALKY
        FROM BNKHLDGCMPUSERUSER HCUM            
            INNER JOIN BNKUSER SUBU ON SUBU.BNKUSERKY = HCUM.BNKUSERKY
            INNER JOIN BNKCUSTOMER SUB ON SUBU.BNKCUSTOMERKY = SUB.BNKCUSTOMERKY 
            and SUB.CORORGKYFI IN
            <foreach collection="affiliateList" item="item" open="(" close=")" separator=",">
 	       	 #{item}
 	        </foreach>     
            INNER JOIN ARCIDENTITY I ON SUBU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY                                 
        WHERE HCUM.BNKHLDGCMPUSERKY = #{hcUserOid} and HCUM.APPROVALSTATUSCD = '0'
        ORDER BY HCUM.UPDATEDTTM ASC        
 </select>
 
 <select id="getLinkedUserListPerSubsidiary" resultMap="LinkedSubsidiaryUserResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT             
        	BNKHLDGCMPUSERUSERKY
        FROM BNKHLDGCMPUSERUSER                                  
        	WHERE BNKCUSTOMERKY = #{id}         
 </select>
 
 <select id="getHoldingCompanyUser" resultMap="BaseResultMap" parameterType="com.s1.arch.utilities.ObjectId">
        SELECT                
            HCU.BNKHLDGCMPUSERKY, HCU.BNKHLDGCMPKY, HCU.ARCPRINCIPALKY, HCU.ARCLOCALECDKY, HCU.GIVENNAME, 
		    HCU.MIDDLENAME, HCU.FAMILYNAME, HCU.SUFFIXENUM, HCU.PRIMARYPHONENBR, HCU.SECONDARYPHONENBR, HCU.EMAILADDRESS, 
		    HCU.ISACTIVE, HCU.UPDATEDTTM, HCU.UPDATEUSER, HCU.VERSIONSTAMP,
            I.USERID as HCU_USERID, UA.LASTLOGINDTTM
        FROM BNKHLDGCMPUSER HCU
            INNER JOIN ARCIDENTITY I ON HCU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY
            INNER JOIN ARCUSERAUTHNTICN UA ON I.ARCIDENTITYKY = UA.ARCIDENTITYKY                                 
        WHERE HCU.BNKHLDGCMPUSERKY = #{id}         
 </select>
 
 <select id="getSubsidiaryUsersNotLinked" resultMap="SubsidiaryUserListResultMap">
        SELECT                
            SU.BNKUserKy, SU.ARCPRINCIPALKY, SU.GIVENNAME, SU.FAMILYNAME, SU.ISACTIVE, SU.USERACCESSTYPECD, I.USERID as USERID           
            <if test="fetchUserGrp == true">
            ,GRP.BNKCustUserGrpKy, GRP.GroupName, GRP.BNKUSERKY as GRP_BNKUSERKY
            </if>
        FROM BNKUser SU                
            INNER JOIN ARCIDENTITY I ON SU.ARCPRINCIPALKY =  I.ARCPRINCIPALKY and I.USERID not like 'OBO_USER@%'     
            <if test="fetchUserGrp == true">  
              LEFT OUTER JOIN BNKUSERGRPVW GRP ON GRP.BNKUSERKY = SU.BNKUSERKY AND GRP.isGroupDeleted='0'	
            </if>                     
        WHERE SU.BNKCustomerKy = #{customerKy} and SU.ISDELETED='0'    
        and not exists (select 1 from BNKHLDGCMPUSERUSER SUM
                   where SUM.BNKUSERKy = SU.BNKUSERKy and SUM.BNKHLDGCMPUSERKY <![CDATA[ <> ]]> #{hUserKy})    
        ORDER BY I.USERID ASC            
 </select>
	
  <resultMap id="SubsidiaryUserListResultMap" type="com.s1.common.holdingcompany.dao.SubsidiaryUser" >    
      <id column="BNKUserKY" property="objectId" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
      <result column="ARCPRINCIPALKY" property="principalOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
      <result column="GIVENNAME" property="givenName" jdbcType="VARCHAR" />
      <result column="FAMILYNAME" property="familyName" jdbcType="VARCHAR" /> 
      <result column="USERID" property="userIdentity" jdbcType="VARCHAR" />  
      <result column="USERACCESSTYPECD" property="userAccessTypeCd" jdbcType="VARCHAR" />    
      <result column="ISACTIVE" property="isActive" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />  
      <collection property="userGroups" column="BNKCustUserGrpKy" ofType="com.s1.app.corp.groups.UserGroupAssociationValue" javaType="ArrayList" resultMap="userGroupAssociation"/>              
  </resultMap>
  
  <resultMap id="userGroupAssociation" type="com.s1.app.corp.groups.UserGroupAssociationValue">
		<result property="groupOid"				column="BNKCustUserGrpKy"		jdbcType="INTEGER"	typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result property="userOid"				column="GRP_BNKUSERKY"				jdbcType="INTEGER"	typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result property="userPrincipalOid"		column="UserPrincipalKy"		jdbcType="INTEGER"	typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result property="custOid"				column="BNKCustomerKy"			jdbcType="INTEGER"	typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result property="groupName"			column="GroupName"				jdbcType="VARCHAR"	/>
		<result property="groupAccessTypeCd"	column="GroupAccessTypCd"		jdbcType="CHAR"		/>
		<result property="isGroupSysAdmin"		column="IsGrpSysAdmin"			jdbcType="CHAR"		typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
		<result property="isUserActive"			column="IsUserActive"			jdbcType="CHAR"		typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
		<result property="userFirstName"		column="FirstName"				jdbcType="VARCHAR"	/>
		<result property="userLastName"			column="LastName"				jdbcType="VARCHAR"	/>
		<result property="userPrincipalName"	column="PrinipalName"			jdbcType="VARCHAR"	/>
		<result property="groupDescription"		column="groupdesc"				jdbcType="VARCHAR"	/>
 </resultMap>
	
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.oidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.holdingCompanyOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.principalOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.localeOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.authenticationTypeOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.isActiveCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.oidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.holdingCompanyOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.principalOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.localeOidCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>            
            <foreach collection="criteria.isActiveCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler} and #{criterion.secondValue,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    BNKHLDGCMPUSERKY, BNKHLDGCMPKY, ARCPRINCIPALKY, ARCLOCALECDKY, GIVENNAME, 
    MIDDLENAME, FAMILYNAME, SUFFIXENUM,PRIMARYPHONENBR, SECONDARYPHONENBR, EMAILADDRESS, 
    ISACTIVE, UPDATEDTTM, UPDATEUSER, VERSIONSTAMP
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUserExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from BNKHLDGCMPUSER
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.s1.arch.utilities.ObjectId" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    select 
    <include refid="Base_Column_List" />
    from BNKHLDGCMPUSER
    where BNKHLDGCMPUSERKY = #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.s1.arch.utilities.ObjectId" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    delete from BNKHLDGCMPUSER
    where BNKHLDGCMPUSERKY = #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </delete>
  <delete id="deleteByExample" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUserExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    delete from BNKHLDGCMPUSER
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    insert into BNKHLDGCMPUSER (BNKHLDGCMPUSERKY, 
      BNKHLDGCMPKY, 
      ARCPRINCIPALKY, 
      ARCLOCALECDKY, 
      GIVENNAME, MIDDLENAME, 
      FAMILYNAME, SUFFIXENUM, 
      PRIMARYPHONENBR,SECONDARYPHONENBR,
      EMAILADDRESS, ISACTIVE, 
      UPDATEDTTM, UPDATEUSER, VERSIONSTAMP
      )
    values (#{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}, 
      #{givenName,jdbcType=VARCHAR}, #{middleName,jdbcType=VARCHAR}, 
      #{familyName,jdbcType=VARCHAR},#{suffix,jdbcType=VARCHAR}, 
      #{primaryPhoneNumber,jdbcType=VARCHAR},#{secondaryPhoneNumber,jdbcType=VARCHAR},       
      #{emailAddress,jdbcType=VARCHAR}, #{isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler}, 
      #{updateDateTime,jdbcType=TIMESTAMP}, #{updateUser,jdbcType=VARCHAR}, #{versionStamp,jdbcType=SMALLINT}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    insert into BNKHLDGCMPUSER
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="oid != null" >
        BNKHLDGCMPUSERKY,
      </if>
      <if test="holdingCompanyOid != null" >
        BNKHLDGCMPKY,
      </if>
      <if test="principalOid != null" >
        ARCPRINCIPALKY,
      </if>
      <if test="localeOid != null" >
        ARCLOCALECDKY,
      </if>
      <if test="givenName != null" >
        GIVENNAME,
      </if>      
      <if test="middleName != null" >
        MIDDLENAME,
      </if>
      <if test="familyName != null" >
        FAMILYNAME,
      </if>
      <if test="suffix != null" >
        SUFFIXENUM,
      </if>
      <if test="primaryPhoneNumber != null" >
        PRIMARYPHONENBR,
      </if>
      <if test="secondaryPhoneNumber != null" >
        SECONDARYPHONENBR,
      </if>      
      <if test="emailAddress != null" >
        EMAILADDRESS,
      </if>
      <if test="isActive != null" >
        ISACTIVE,
      </if>
      <if test="updateDateTime != null" >
        UPDATEDTTM,
      </if>
      <if test="updateUser != null" >
        UPDATEUSER,
      </if>
      <if test="versionStamp != null" >
        VERSIONSTAMP,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="oid != null" >
        #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="holdingCompanyOid != null" >
        #{holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="principalOid != null" >
        #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="localeOid != null" >
        #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="givenName != null" >
        #{givenName,jdbcType=VARCHAR},
      </if>
      <if test="givenname != null" >
        #{givenname,jdbcType=VARCHAR},
      </if>
      <if test="middleName != null" >
        #{middleName,jdbcType=VARCHAR},
      </if>
      <if test="familyName != null" >
        #{familyName,jdbcType=VARCHAR},
      </if>
      <if test="familyname != null" >
        #{familyname,jdbcType=VARCHAR},
      </if>
      <if test="suffix != null" >
        #{suffix,jdbcType=VARCHAR},
      </if>
      <if test="primaryPhoneNumber != null" >
        #{primaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="secondaryPhoneNumber != null" >
        #{secondaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="authenticationTypeOid != null" >
        #{authenticationTypeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="emailAddress != null" >
        #{emailAddress,jdbcType=VARCHAR},
      </if>
      <if test="emailaddress != null" >
        #{emailaddress,jdbcType=VARCHAR},
      </if>
      <if test="isActive != null" >
        #{isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="updateDateTime != null" >
        #{updateDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null" >
        #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="versionStamp != null" >
        #{versionStamp,jdbcType=SMALLINT},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUserExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    select count(*) from BNKHLDGCMPUSER
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    update BNKHLDGCMPUSER
    <set >
      <if test="record.oid != null" >
        BNKHLDGCMPUSERKY = #{record.oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.holdingCompanyOid != null" >
        BNKHLDGCMPKY = #{record.holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.principalOid != null" >
        ARCPRINCIPALKY = #{record.principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.localeOid != null" >
        ARCLOCALECDKY = #{record.localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="record.givenName != null" >
        GIVENNAME = #{record.givenName,jdbcType=VARCHAR},
      </if>
      <if test="record.middleName != null" >
        MIDDLENAME = #{record.middleName,jdbcType=VARCHAR},
      </if>
      <if test="record.familyName != null" >
        FAMILYNAME = #{record.familyName,jdbcType=VARCHAR},
      </if>
      <if test="record.suffix != null" >
        SUFFIXENUM = #{record.suffix,jdbcType=VARCHAR},
      </if>
      <if test="record.primaryPhoneNumber != null" >
        PRIMARYPHONENBR = #{record.primaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="record.secondaryPhoneNumber != null" >
        SECONDARYPHONENBR = #{record.secondaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="record.emailAddress != null" >
        EMAILADDRESS = #{record.emailAddress,jdbcType=VARCHAR},
      </if>
      <if test="record.isActive != null" >
        ISACTIVE = #{record.isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="record.updateDateTime != null" >
        UPDATEDTTM = #{record.updateDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateUser != null" >
        UPDATEUSER = #{record.updateUser,jdbcType=VARCHAR},
      </if>
      <if test="record.versionStamp != null" >
        VERSIONSTAMP = #{record.versionStamp,jdbcType=SMALLINT},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    update BNKHLDGCMPUSER
    set BNKHLDGCMPUSERKY = #{record.oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      BNKHLDGCMPKY = #{record.holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      ARCPRINCIPALKY = #{record.principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      ARCLOCALECDKY = #{record.localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      GIVENNAME = #{record.givenName,jdbcType=VARCHAR},      
      MIDDLENAME = #{record.middleName,jdbcType=VARCHAR},
      FAMILYNAME = #{record.familyName,jdbcType=VARCHAR},      
      SUFFIXENUM = #{record.suffix,jdbcType=VARCHAR},
      PRIMARYPHONENBR = #{record.primaryPhoneNumber,jdbcType=VARCHAR},
      SECONDARYPHONENBR = #{record.secondaryPhoneNumber,jdbcType=VARCHAR},
      EMAILADDRESS = #{record.emailAddress,jdbcType=VARCHAR},      
      ISACTIVE = #{record.isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      UPDATEDTTM = #{record.updateDateTime,jdbcType=TIMESTAMP},
      UPDATEUSER = #{record.updateUser,jdbcType=VARCHAR},
      VERSIONSTAMP = #{record.versionStamp,jdbcType=SMALLINT}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    update BNKHLDGCMPUSER
    <set >
      <if test="holdingCompanyOid != null" >
        BNKHLDGCMPKY = #{holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="principalOid != null" >
        ARCPRINCIPALKY = #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="localeOid != null" >
        ARCLOCALECDKY = #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      </if>
      <if test="givenName != null" >
        GIVENNAME = #{givenName,jdbcType=VARCHAR},
      </if>
      <if test="middleName != null" >
        MIDDLENAME = #{middleName,jdbcType=VARCHAR},
      </if>
      <if test="familyName != null" >
        FAMILYNAME = #{familyName,jdbcType=VARCHAR},
      </if>
      <if test="suffix != null" >
        SUFFIXENUM = #{suffix,jdbcType=VARCHAR},
      </if>
      <if test="primaryPhoneNumber != null" >
        PRIMARYPHONENBR = #{primaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="secondaryPhoneNumber != null" >
        SECONDARYPHONENBR = #{secondaryPhoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="emailAddress != null" >
        EMAILADDRESS = #{emailAddress,jdbcType=VARCHAR},
      </if>
      <if test="isActive != null" >
        ISACTIVE = #{isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      </if>
      <if test="updateDateTime != null" >
        UPDATEDTTM = #{updateDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null" >
        UPDATEUSER = #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="versionStamp != null" >
        VERSIONSTAMP = #{versionStamp,jdbcType=SMALLINT},
      </if>
    </set>
    where BNKHLDGCMPUSERKY = #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Apr 04 19:25:15 IST 2013.
    -->
    update BNKHLDGCMPUSER
    set BNKHLDGCMPKY = #{holdingCompanyOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      ARCPRINCIPALKY = #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      ARCLOCALECDKY = #{localeOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler},
      GIVENNAME = #{givenName,jdbcType=VARCHAR},      
      MIDDLENAME = #{middleName,jdbcType=VARCHAR},
      FAMILYNAME = #{familyName,jdbcType=VARCHAR},      
      SUFFIXENUM = #{suffix,jdbcType=VARCHAR},
      PRIMARYPHONENBR = #{primaryPhoneNumber,jdbcType=VARCHAR},
      SECONDARYPHONENBR = #{secondaryPhoneNumber,jdbcType=VARCHAR},      
      EMAILADDRESS = #{emailAddress,jdbcType=VARCHAR},      
      ISACTIVE = #{isActive,jdbcType=CHAR,typeHandler=com.s1.arch.ibatis.ZeroOneBooleanTypeHandler},
      UPDATEDTTM = #{updateDateTime,jdbcType=TIMESTAMP},
      UPDATEUSER = #{updateUser,jdbcType=VARCHAR},
      VERSIONSTAMP = #{versionStamp,jdbcType=SMALLINT}
    where BNKHLDGCMPUSERKY = #{oid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </update>
  
  <delete id="deleteHCompanyUsrIdentityDataByprincipalOid" parameterType="com.s1.arch.utilities.ObjectId" >
    delete from ARCIdentity WHERE ARCPrincipalKy = #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </delete>
  <delete id="deleteHCompanyUsrPrincipalDataByprincipalOid" parameterType="com.s1.arch.utilities.ObjectId" >
    delete from ARCPrincipal WHERE ARCPrincipalKy = #{principalOid,jdbcType=INTEGER,typeHandler=com.s1.arch.ibatis.ObjectIdTypeHandler}
  </delete>
  
 <select id="getSubsidiaryInfoForHCUser" resultMap="LinkedSubsidiaryInfo" parameterType="com.s1.arch.utilities.ObjectId">
		select H.bnkCustomerKy, S.isDisplayLogo, S.dispName1, S.dispName2, S.dispName3
		from BNKHLDGCMPUSERUSER H, BNKHLDGCMPCUSTOMER S 
		where H.BNKHLDGCMPUSERKY=#{id} and H.bnkCustomerKy=S.bnkCustomerKy and H.approvalStatusCd='1'
		order by S.dispName1
 </select>
 
 <select id="getSubsidiaryInfoForHCUserById" resultMap="LinkedSubsidiaryInfo" parameterType="string">
		select H.bnkCustomerKy, S.isDisplayLogo, S.dispName1, S.dispName2, S.dispName3
		from BNKHLDGCMPUSERUSER H, bnkCustomer B, BNKHLDGCMPCUSTOMER S, BNKHLDGCMPUSER HCU, ARCPRINCIPAL P, ARCIDENTITY I
		where I.userId=#{id} and H.bnkCustomerKy=B.bnkCustomerKy and H.bnkCustomerKy=S.bnkCustomerKy 
		  and H.BNKHLDGCMPUSERKY=HCU.BNKHLDGCMPUSERKY and HCU.arcPrincipalKy=P.arcPrincipalKy and P.arcPrincipalKy=I.arcPrincipalKy and H.approvalStatusCd='1'
		order by lower(S.dispName1), S.dispName1
 </select>
	<resultMap id="LinkedSubUserMap"
		type="com.s1.common.holdingcompany.dao.SubsidiaryUser">
		<id column="BNKUserKY" property="objectId" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result column="ARCPRINCIPALKY" property="principalOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />       
      	<result column="GIVENNAME" property="givenName" jdbcType="VARCHAR" />
      	<result column="FAMILYNAME" property="familyName" jdbcType="VARCHAR" /> 
		<result column="SUBCUSTID" property="subsidiaryCustId" jdbcType="VARCHAR" />
		<result column="USERID" property="userIdentity" jdbcType="VARCHAR" />
      	<result column="USERACCESSTYPECD" property="userAccessTypeCd" jdbcType="VARCHAR" />    
      	<result column="ISACTIVE" property="isActive" jdbcType="CHAR" typeHandler="com.s1.arch.ibatis.ZeroOneBooleanTypeHandler" />
		<result column="LASTLOGINDTTM" property="_lastLoginDttm" jdbcType="TIMESTAMP" />
		<result column="ARCLOCALECDKY" property="localeOid" jdbcType="INTEGER" typeHandler="com.s1.arch.ibatis.ObjectIdTypeHandler" />
		<result column="CORORGKYFI" property="_fiId" jdbcType="SMALLINT" />
	</resultMap>

	<select id="getLinkedSubInfoBySubCompanyId" resultMap="LinkedSubUserMap">
		SELECT  subu.BNKUserKY, 
				ISUBU.ARCPRINCIPALKY, 
				subu.GIVENNAME,
				subu.FAMILYNAME,
				ISUBU.USERID AS SUBCUSTID,
				ISUBU.USERID,
				subu.USERACCESSTYPECD,
				subu.ISACTIVE,
				SUBA.LASTLOGINDTTM, 
				subu.ARCLOCALECDKY,
				sub.CORORGKYFI FROM ARCIDENTITY ISUBU
		 INNER JOIN BNKUser subu ON ISUBU.ARCPrincipalKy = subu.ARCPrincipalKy
		 INNER JOIN BNKCustomer sub ON subu.BNKCustomerKy = sub.BNKCustomerKy
		 INNER JOIN BNKHldgCmpUserUser hcum ON subu.BNKUserKy = hcum.BNKUserKy
		 INNER JOIN BNKHldgCmpUser HCU ON hcum.BNKHLDGCMPUSERKY = HCU.BNKHLDGCMPUSERKY
		 INNER JOIN ARCIdentity IHCU ON IHCU.ARCPRINCIPALKY = HCU.ARCPRINCIPALKY
		 INNER JOIN ARCUSERAUTHNTICN SUBA ON ISUBU.ARCIDENTITYKY = SUBA.ARCIDENTITYKY
		 WHERE sub.BNKCustomerKy = #{subCustOid}
		AND  IHCU.userid = #{hldgcmpUserId}		 
 </select>  
 
 <delete id="deleteHCUserAuditRptRecord" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    	delete from BNKHldgCmpUserAuditRpt WHERE BNKHldgCmpKy = #{hldgCompKy} and BNKHldgCmpUserky = #{hUserKy}
  </delete>
  
   <delete id="deleteUserAuditRptRecord" parameterType="com.s1.common.holdingcompany.dao.HoldingCompanyUser" >
    	delete from BNKUSERAUDITRPT WHERE arcprincipalky = #{arcPrincipalKy}
  </delete>
</mapper>